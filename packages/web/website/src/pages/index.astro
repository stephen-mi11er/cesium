---
import Layout from '../layouts/Layout.astro';
---

<Layout>
	<main>
		<div id="cesiumContainer"></div>
	</main>
</Layout>


<script is:inline src="https://cesium.com/downloads/cesiumjs/releases/1.116/Build/Cesium/Cesium.js"></script>
<link href="https://cesium.com/downloads/cesiumjs/releases/1.116/Build/Cesium/Widgets/widgets.css" rel="stylesheet">

<script>
	Cesium.Ion.defaultAccessToken = import.meta.env.PUBLIC_CESIUM_ACCESS_TOKEN;

	// Initialize the Cesium Viewer in the HTML element with the `cesiumContainer` ID.
	const viewer = new Cesium.Viewer('cesiumContainer', {
		terrain: Cesium.Terrain.fromWorldTerrain(),
	});

	// Fly the camera to San Francisco at the given longitude, latitude, and height.
	viewer.camera.flyTo({
		destination: Cesium.Cartesian3.fromDegrees(-122.4175, 37.655, 400),
		orientation: {
			heading: Cesium.Math.toRadians(0.0),
			pitch: Cesium.Math.toRadians(-15.0),
		}
	});

	// Add Cesium OSM Buildings, a global 3D buildings layer.
	const buildingTileset = await Cesium.createOsmBuildingsAsync();
	viewer.scene.primitives.add(buildingTileset);
</script>


<style>
	main {
		margin: auto;
		padding: 1rem;
		width: 800px;
		max-width: calc(100% - 2rem);
		color: white;
		font-size: 20px;
		line-height: 1.6;
	}
</style>
